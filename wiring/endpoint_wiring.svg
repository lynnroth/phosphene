<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="620" viewBox="0 0 900 620">
<style>
  text { font-family: ui-monospace, monospace; }
  .title   { font-size:15px; font-weight:bold; fill:#c8b89a; letter-spacing:.12em; }
  .brd     { font-size:12px; font-weight:bold; fill:#c8b89a; }
  .pid     { font-size:10px; fill:#555; }
  .pin     { font-size:11px; fill:#e8dcc8; }
  .pin-dim { font-size:10px; fill:#666; }
  .bus-lbl { font-size:10px; fill:#555; letter-spacing:.08em; }
  .note    { font-size:10px; fill:#555; font-style:italic; }
  .warn    { font-size:9px;  fill:#c84a2a; }
  .leg-hdr { font-size:10px; fill:#666; letter-spacing:.1em; }
  .leg-lbl { font-size:10px; fill:#888; }
</style>

<!-- Background -->
<rect width="900" height="620" fill="#0d0d0d"/>

<!-- Title -->
<text x="450" y="28" class="title" text-anchor="middle">ENDPOINT — BOARD CONNECTIONS</text>

<!-- ═══════════════ LiPo Battery ═══════════════ -->
<rect x="28" y="55" width="125" height="75" fill="#161616" stroke="#2a2a2a" stroke-width="1.5" rx="4"/>
<text x="90" y="48" class="brd" text-anchor="middle">LiPo Battery</text>
<text x="90" y="71" class="pid" text-anchor="middle">3.7V cell</text>
<text x="90" y="90" class="note" text-anchor="middle">JST-PH 2-pin</text>
<text x="90" y="108" class="note" text-anchor="middle">shared with bq25185</text>
<!-- LiPo right connector (to Feather JST) -->
<circle cx="153" cy="80" r="3.5" fill="#e05050"/>
<text x="147" y="84" class="pin" text-anchor="end">+</text>
<circle cx="153" cy="100" r="3.5" fill="#777"/>
<text x="147" y="104" class="pin" text-anchor="end">−</text>
<!-- LiPo bottom connector (to bq25185) -->
<circle cx="68" cy="130" r="3.5" fill="#e05050"/>
<circle cx="90" cy="130" r="3.5" fill="#777"/>

<!-- ═══════════════ bq25185 Charger/Booster ═══════════════ -->
<rect x="28" y="215" width="150" height="210" fill="#161616" stroke="#2a2a2a" stroke-width="1.5" rx="4"/>
<text x="103" y="208" class="brd" text-anchor="middle">bq25185</text>
<text x="103" y="224" class="pid" text-anchor="middle">#6106  ·  Charger + Boost</text>
<!-- USB-C charge input on left -->
<rect x="28" y="270" width="40" height="22" fill="#1a1a1a" stroke="#333" stroke-width="1" rx="2"/>
<text x="48" y="282" class="note" text-anchor="middle">USB-C</text>
<text x="48" y="292" class="note" text-anchor="middle">charge</text>
<!-- bq25185 top: BATT port -->
<circle cx="68" cy="215" r="3.5" fill="#e05050"/>
<circle cx="90" cy="215" r="3.5" fill="#777"/>
<text x="68" y="212" class="pin-dim" text-anchor="middle">BATT</text>
<!-- bq25185 bottom: 5V out, GND -->
<circle cx="80"  cy="425" r="3.5" fill="#ff5722"/>
<text x="80"  y="445" class="pin" text-anchor="middle">5V out</text>
<circle cx="120" cy="425" r="3.5" fill="#777"/>
<text x="120" y="445" class="pin" text-anchor="middle">GND</text>
<text x="103" y="400" class="note" text-anchor="middle">regulated 5V</text>
<text x="103" y="412" class="note" text-anchor="middle">for NeoPixels</text>
<!-- bq25185 BOOST_EN pad — optional GPIO control -->
<circle cx="178" cy="370" r="3.5" fill="#8bc34a"/>
<text x="172" y="374" class="pin" text-anchor="end">BOOST_EN</text>
<text x="172" y="384" class="note" text-anchor="end">(10kΩ to GND)</text>

<!-- ═══════════════ NeoPixel Strip ═══════════════ -->
<rect x="28" y="465" width="210" height="85" fill="#161616" stroke="#2a2a2a" stroke-width="1.5" rx="4"/>
<text x="133" y="458" class="brd" text-anchor="middle">NeoPixel Strip</text>
<!-- NeoPixel dots -->
<circle cx="65"  cy="508" r="12" fill="#1a1a1a" stroke="#333" stroke-width="1"/>
<circle cx="105" cy="508" r="12" fill="#1a1a1a" stroke="#333" stroke-width="1"/>
<circle cx="145" cy="508" r="12" fill="#1a1a1a" stroke="#333" stroke-width="1"/>
<circle cx="185" cy="508" r="12" fill="#1a1a1a" stroke="#333" stroke-width="1"/>
<circle cx="65"  cy="508" r="6"  fill="#2a2a2a"/>
<circle cx="105" cy="508" r="6"  fill="#2a2a2a"/>
<circle cx="145" cy="508" r="6"  fill="#2a2a2a"/>
<circle cx="185" cy="508" r="6"  fill="#2a2a2a"/>
<!-- NeoPixel top pins -->
<circle cx="80"  cy="465" r="3.5" fill="#ff5722"/>
<circle cx="110" cy="465" r="3.5" fill="#777"/>
<circle cx="145" cy="465" r="3.5" fill="#e91e8c"/>
<text x="80"  y="480" class="pin-dim" text-anchor="middle">5V</text>
<text x="110" y="480" class="pin-dim" text-anchor="middle">GND</text>
<text x="145" y="480" class="pin-dim" text-anchor="middle">DATA</text>

<!-- ═══════════════ ESP32-S3 FEATHER ═══════════════ -->
<rect x="310" y="55" width="208" height="450" fill="#161616" stroke="#3a3a3a" stroke-width="2" rx="4"/>
<text x="414" y="48" class="brd" text-anchor="middle">ESP32-S3 Feather</text>
<text x="414" y="73" class="pid" text-anchor="middle">#5477  ·  Endpoint (DEVICE_ID in settings.toml)</text>
<!-- USB-C programming note -->
<rect x="316" y="450" width="60" height="30" fill="#1a1a1a" stroke="#333" stroke-width="1" rx="2"/>
<text x="346" y="463" class="note" text-anchor="middle">USB-C</text>
<text x="346" y="474" class="note" text-anchor="middle">program</text>
<text x="346" y="485" class="warn" text-anchor="middle">not charge</text>

<!-- Feather LEFT pins (x=310) -->
<!-- JST LiPo -->
<circle cx="310" cy="120" r="3.5" fill="#e05050"/>
<text x="316" y="124" class="pin">JST</text>
<text x="360" y="124" class="pin-dim">(LiPo in)</text>
<!-- D5 NeoPixel -->
<circle cx="310" cy="160" r="3.5" fill="#e91e8c"/>
<text x="316" y="164" class="pin">D5</text>
<text x="350" y="164" class="pin-dim">(NeoPixel data)</text>
<!-- GND -->
<circle cx="310" cy="200" r="3.5" fill="#777"/>
<text x="316" y="204" class="pin">GND</text>
<!-- A2 — optional BOOST_EN control -->
<circle cx="310" cy="240" r="3.5" fill="#8bc34a"/>
<text x="316" y="244" class="pin">A2</text>
<text x="358" y="244" class="pin-dim">(BOOST_EN)</text>

<!-- Feather RIGHT pins (x=518) -->
<circle cx="518" cy="120" r="3.5" fill="#e05050"/>
<text x="512" y="124" class="pin" text-anchor="end">3.3V</text>
<circle cx="518" cy="158" r="3.5" fill="#777"/>
<text x="512" y="162" class="pin" text-anchor="end">GND</text>
<circle cx="518" cy="196" r="3.5" fill="#4caf50"/>
<text x="512" y="200" class="pin" text-anchor="end">SCK</text>
<circle cx="518" cy="234" r="3.5" fill="#2196f3"/>
<text x="512" y="238" class="pin" text-anchor="end">MOSI</text>
<circle cx="518" cy="272" r="3.5" fill="#ff9800"/>
<text x="512" y="276" class="pin" text-anchor="end">MISO</text>
<circle cx="518" cy="310" r="3.5" fill="#ab47bc"/>
<text x="512" y="314" class="pin" text-anchor="end">D9</text>
<text x="410" y="314" class="pin-dim" text-anchor="end">(CS)</text>
<circle cx="518" cy="348" r="3.5" fill="#00bcd4"/>
<text x="512" y="352" class="pin" text-anchor="end">D10</text>
<text x="410" y="352" class="pin-dim" text-anchor="end">(RST)</text>
<circle cx="518" cy="386" r="3.5" fill="#ffee58"/>
<text x="512" y="390" class="pin" text-anchor="end">D11</text>
<text x="410" y="390" class="pin-dim" text-anchor="end">(G0/IRQ)</text>
<!-- A3 — optional RADIO_EN control -->
<circle cx="518" cy="414" r="3.5" fill="#8bc34a"/>
<text x="512" y="418" class="pin" text-anchor="end">A3</text>
<text x="410" y="418" class="pin-dim" text-anchor="end">(RADIO_EN)</text>

<!-- ═══════════════ RFM95W ═══════════════ -->
<rect x="672" y="75" width="200" height="370" fill="#161616" stroke="#2a2a2a" stroke-width="1.5" rx="4"/>
<text x="772" y="68" class="brd" text-anchor="middle">RFM95W LoRa</text>
<text x="772" y="91" class="pid" text-anchor="middle">#3072  ·  915 MHz  ·  Primary SPI</text>
<!-- Antenna -->
<rect x="822" y="342" width="44" height="24" fill="#1a1a1a" stroke="#333" stroke-width="1" rx="2"/>
<text x="844" y="354" class="note" text-anchor="middle">uFL</text>
<text x="844" y="365" class="note" text-anchor="middle">ant.</text>

<!-- RFM95W left pins (x=672) -->
<circle cx="672" cy="120" r="3.5" fill="#e05050"/>
<text x="678" y="124" class="pin">VIN</text>
<circle cx="672" cy="158" r="3.5" fill="#777"/>
<text x="678" y="162" class="pin">GND</text>
<circle cx="672" cy="196" r="3.5" fill="#4caf50"/>
<text x="678" y="200" class="pin">SCK</text>
<circle cx="672" cy="234" r="3.5" fill="#2196f3"/>
<text x="678" y="238" class="pin">MOSI</text>
<circle cx="672" cy="272" r="3.5" fill="#ff9800"/>
<text x="678" y="276" class="pin">MISO</text>
<circle cx="672" cy="310" r="3.5" fill="#ab47bc"/>
<text x="678" y="314" class="pin">CS</text>
<circle cx="672" cy="348" r="3.5" fill="#00bcd4"/>
<text x="678" y="352" class="pin">RST</text>
<circle cx="672" cy="386" r="3.5" fill="#ffee58"/>
<text x="678" y="390" class="pin">G0 (DIO0)</text>
<!-- RFM95W EN pad — LDO enable, optional GPIO control -->
<circle cx="672" cy="414" r="3.5" fill="#8bc34a"/>
<text x="678" y="418" class="pin">EN</text>
<text x="678" y="428" class="note">(LDO — 10kΩ to GND)</text>

<!-- ═══════════════ WIRES ═══════════════ -->

<!-- LiPo bottom → bq25185 BATT top (shared LiPo) -->
<line x1="68"  y1="130" x2="68"  y2="215" stroke="#e05050" stroke-width="1.5"/>
<line x1="90"  y1="130" x2="90"  y2="215" stroke="#777"    stroke-width="1.5"/>

<!-- LiPo right → Feather JST (polyline) -->
<polyline points="153,80 278,80 310,120" fill="none" stroke="#e05050" stroke-width="1.5"/>

<!-- bq25185 5V → NeoPixels 5V (vertical) -->
<line x1="80"  y1="425" x2="80"  y2="465" stroke="#ff5722" stroke-width="1.5"/>
<!-- bq25185 GND → NeoPixels GND (vertical) -->
<line x1="120" y1="425" x2="110" y2="465" stroke="#777"    stroke-width="1.5"/>

<!-- Feather D5 → NeoPixels DATA (route down left side) -->
<polyline points="310,160 258,160 258,490 145,490 145,465" fill="none" stroke="#e91e8c" stroke-width="1.5" stroke-dasharray="4,2"/>

<!-- Primary SPI bus label -->
<text x="595" y="98" class="bus-lbl" text-anchor="middle">PRIMARY SPI</text>

<!-- Feather → RFM95W horizontal wires -->
<line x1="518" y1="120" x2="672" y2="120" stroke="#e05050" stroke-width="1.5"/>
<line x1="518" y1="158" x2="672" y2="158" stroke="#777"    stroke-width="1.5"/>
<line x1="518" y1="196" x2="672" y2="196" stroke="#4caf50" stroke-width="1.5"/>
<line x1="518" y1="234" x2="672" y2="234" stroke="#2196f3" stroke-width="1.5"/>
<line x1="518" y1="272" x2="672" y2="272" stroke="#ff9800" stroke-width="1.5"/>
<line x1="518" y1="310" x2="672" y2="310" stroke="#ab47bc" stroke-width="1.5"/>
<line x1="518" y1="348" x2="672" y2="348" stroke="#00bcd4" stroke-width="1.5"/>
<line x1="518" y1="386" x2="672" y2="386" stroke="#ffee58" stroke-width="1.5"/>

<!-- Power note: shared LiPo label -->
<text x="200" y="175" class="note" text-anchor="middle">same LiPo cell</text>
<text x="200" y="186" class="note" text-anchor="middle">powers both boards</text>

<!-- ═══════════════ OPTIONAL EN CONTROL WIRES ═══════════════ -->
<!-- Requires 10kΩ pull-down to GND on each EN pad (see pad labels).          -->
<!-- Without the pull-down, cold-boot inrush is handled by the 1s delay.      -->
<!-- A2 → bq25185 BOOST_EN (enables 5V NeoPixel rail) -->
<polyline points="310,240 230,240 230,370 178,370" fill="none" stroke="#8bc34a" stroke-width="1.5" stroke-dasharray="4,2"/>
<!-- pull-down symbol at junction (202,370) -->
<line  x1="202" y1="370" x2="202" y2="378" stroke="#666" stroke-width="1"/>
<rect   x="198" y="378" width="8" height="12" fill="none" stroke="#666" stroke-width="1"/>
<text  x="212"  y="387"  class="note">10k</text>
<line  x1="202" y1="390" x2="202" y2="398" stroke="#666" stroke-width="1"/>
<line  x1="196" y1="398" x2="208" y2="398" stroke="#666" stroke-width="1"/>
<line  x1="198" y1="401" x2="206" y2="401" stroke="#666" stroke-width="1"/>
<line  x1="200" y1="404" x2="204" y2="404" stroke="#666" stroke-width="1"/>
<!-- A3 → RFM95W EN (enables radio LDO) -->
<polyline points="518,414 580,414 672,414" fill="none" stroke="#8bc34a" stroke-width="1.5" stroke-dasharray="4,2"/>
<!-- pull-down symbol at junction (580,414) -->
<line  x1="580" y1="414" x2="580" y2="422" stroke="#666" stroke-width="1"/>
<rect   x="576" y="422" width="8" height="12" fill="none" stroke="#666" stroke-width="1"/>
<text  x="590"  y="431"  class="note">10k</text>
<line  x1="580" y1="434" x2="580" y2="442" stroke="#666" stroke-width="1"/>
<line  x1="574" y1="442" x2="586" y2="442" stroke="#666" stroke-width="1"/>
<line  x1="576" y1="445" x2="584" y2="445" stroke="#666" stroke-width="1"/>
<line  x1="578" y1="448" x2="582" y2="448" stroke="#666" stroke-width="1"/>

<!-- ═══════════════ LEGEND ═══════════════ -->
<text x="540" y="460" class="leg-hdr">POWER</text>
<line x1="540" y1="472" x2="567" y2="472" stroke="#e05050"  stroke-width="1.5"/>
<text x="572" y="476" class="leg-lbl">3.3V / VIN / LiPo+</text>
<line x1="540" y1="488" x2="567" y2="488" stroke="#777"     stroke-width="1.5"/>
<text x="572" y="492" class="leg-lbl">GND</text>
<line x1="540" y1="504" x2="567" y2="504" stroke="#ff5722"  stroke-width="1.5"/>
<text x="572" y="508" class="leg-lbl">5V boost out</text>

<text x="540" y="524" class="leg-hdr">SPI</text>
<line x1="540" y1="536" x2="567" y2="536" stroke="#4caf50"  stroke-width="1.5"/>
<text x="572" y="540" class="leg-lbl">SCK</text>
<line x1="540" y1="552" x2="567" y2="552" stroke="#2196f3"  stroke-width="1.5"/>
<text x="572" y="556" class="leg-lbl">MOSI</text>
<line x1="640" y1="472" x2="667" y2="472" stroke="#ff9800"  stroke-width="1.5"/>
<text x="672" y="476" class="leg-lbl">MISO</text>
<line x1="640" y1="488" x2="667" y2="488" stroke="#ab47bc"  stroke-width="1.5"/>
<text x="672" y="492" class="leg-lbl">CS</text>
<line x1="640" y1="504" x2="667" y2="504" stroke="#00bcd4"  stroke-width="1.5"/>
<text x="672" y="508" class="leg-lbl">RST</text>
<line x1="640" y1="520" x2="667" y2="520" stroke="#ffee58"  stroke-width="1.5"/>
<text x="672" y="524" class="leg-lbl">G0 / IRQ</text>
<line x1="640" y1="536" x2="667" y2="536" stroke="#e91e8c"  stroke-width="1.5" stroke-dasharray="4,2"/>
<text x="672" y="540" class="leg-lbl">NeoPixel DATA</text>

<text x="540" y="560" class="leg-hdr">OPTIONAL EN CTRL</text>
<line x1="540" y1="572" x2="567" y2="572" stroke="#8bc34a" stroke-width="1.5" stroke-dasharray="4,2"/>
<text x="572" y="576" class="leg-lbl">A2=BOOST_EN · A3=RADIO_EN · 10kΩ pull-down to GND on each EN pad</text>
</svg>
